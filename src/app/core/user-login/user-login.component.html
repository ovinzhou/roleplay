<div class="container user-login-container" style="margin-top: 100px;">
    <div class="panel panel-default" style="width: 450px;margin: auto;">
        <div class="panel-heading">
            <h3 class="panel-title">用户登录</h3>
        </div>
        <div class="panel-body">
            <form class="form-horizontal"
                #loginForm="ngForm" 
                novalidate 
                (ngSubmit)=" doLogin(loginForm)">
                <div class="form-group"
                    [ngClass]="{'has-error': loginForm.submitted && ! principal.valid}">
                    <div class="input-group col-md-12" 
                        style="padding-left: 30px; padding-right: 30px;">
                        <span class="input-group-addon">
                            <i class="fa fa-mobile" style="width: 15px;"></i>
                        </span>
                        <input type="text" 
                            #principal="ngModel"
                            name="principal" 
                            class="form-control" 
                            placeholder="用户名" 
                            required
                            [(ngModel)]="data.principal">
                    </div>
                    <div *ngIf="loginForm.submitted && ! principal.valid" class="text-top text-danger">
                        <div [hidden]="! principal.errors.required">
                          用户名必填
                        </div>
                    </div>
                </div>
                <div class="form-group" [ngClass]="{'has-error': loginForm.submitted && ! password.valid}">
                    <div class="input-group col-md-12" 
                        style="padding-left: 30px; padding-right: 30px;">
                        <span class="input-group-addon">
                            <i class="fa fa-key" style="width: 15px;"></i>
                        </span>
                        <input 
                            type="password" 
                            name="password"
                            #password = "ngModel"
                            class="form-control" 
                            placeholder="密码，至少8位"
                            required
                            [(ngModel)]="data.password">
                    </div>
                    <div *ngIf="loginForm.submitted && ! password.valid" class="text-botton text-danger">
                        <div [hidden]="! password.errors.required">
                          密码必填
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="left-margin col-sm-4">
                        <button type="button" class="btn btn-link pull-right" (click)="phone()">通过手机验证码登录</button>
                    </div>
                    <div class="col-sm-7">
                        <button type="button" class="btn btn-link pull-right" (click)="forgetPwd()">忘记密码？</button>
                    </div>
                    <!-- <div class="col-sm-3 left-margin">
                        <div class="checkbox">
                            <label>
                                <input type="checkbox">记住我
                            </label>
                        </div>
                    </div> -->
                </div>   
                <div *ngIf="isVerifycode" class="text-top text-danger">
                    {{this.errorMessage}}
                </div>
                <div class="form-group">
                    <div style="width: 65%; margin: 0 auto;">
                        <button type="submit" class="btn btn-primary" style="width:100%;height:40px;">登录</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
